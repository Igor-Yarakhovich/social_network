{"version":3,"sources":["redux/messagesReducer.ts","components/News/News.module.css","components/Music/Music.module.css","components/Settings/Settings.module.css","components/common/Preloader/Preloader.module.css","components/Profile/Profile.module.css","components/Profile/MyPosts/Post/Posts.module.css","components/Navbar/Navbar.module.css","reportWebVitals.ts","components/Navbar/Navbar.tsx","components/News/News.tsx","components/Music/Music.tsx","components/Settings/Settings.tsx","api/api.ts","redux/usersReducer.ts","assets/images/UserAvatar.png","components/Users/User.tsx","components/Pagination/Pagination.tsx","components/Users/Users.tsx","assets/images/preloader.gif","components/common/Preloader/Preloader.tsx","redux/userSelectors.ts","components/Users/UsersContainer.tsx","components/Profile/ProfileInfo/ProfileStatusWithHooks.tsx","redux/profileReducer.ts","components/Profile/ProfileInfo/ProfileInfo.tsx","components/Profile/MyPosts/Post/Post.tsx","components/Profile/MyPosts/MyPosts.tsx","components/Profile/MyPosts/MyPostsContainer.tsx","components/Profile/Profile.tsx","components/Profile/ProfileContainer.tsx","components/Header/Header.tsx","redux/authReducer.ts","components/Header/HeaderContainer.tsx","components/Login/LoginForm.tsx","components/Login/Login.tsx","redux/sidebarReducer.ts","redux/appReducer.ts","redux/redux-store.ts","App.tsx","index.tsx","utils/validators/validators.tsx","components/common/FormsControls/FormControls.tsx","components/common/FormsControls/FormControls.module.css","components/Pagination/Pagination.module.css","hoc/WithAuthRedirect.tsx","components/Users/UsersAPIComponent.module.css","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Header/Header.module.css"],"names":["initialState","messagesData","name","id","v1","dialogsData","text","messagesReducer","state","action","type","newMessageText","newMessageAC","module","exports","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","Navbar","className","n","nav","item","to","activeClassName","activeLink","News","styles","news","Music","m","music","Settings","settings","instance","axios","create","withCredentials","baseURL","headers","usersAPI","currentPage","pageSize","get","response","data","delete","post","userId","console","warn","profileAPI","getProfile","getStatus","updateStatus","status","put","savePhoto","photoFile","formData","FormData","append","authAPI","email","password","rememberMe","users","totalUsersCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleIsFollowingProgress","User","user","unfollow","follow","src","photos","small","UserPhoto","userPhoto","alt","followUnfollow","followed","disabled","some","onClick","Pagination","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","useEffect","setPortionNumber","portionCount","useState","portionNumber","leftPortionPageNumber","rightPortionPageNumber","paginator","filter","p","map","selectedActivePage","selectedPage","e","Users","u","Preloader","preloader","getUsersSuper","createSelector","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","pageNumber","props","getUsers","this","React","Component","compose","connect","dispatch","a","resultCode","items","totalCount","withRouter","withAuthRedirect","ProfileStatusWithHooks","editMode","setEditMode","setStatus","onDoubleClick","autoFocus","onBlur","onChange","currentTarget","value","postsData","message","counts","profile","setStatusAC","savePhotoTC","file","ProfileInfo","isOwner","useDispatch","content","large","event","files","target","fullName","lookingForAJobDescription","lookingForAJob","width","JobsHandler","Post","maxLength10","maxLengthCreator","MyPosts","memo","PostsDataElement","AddNewPostFormRedux","onSubmit","values","addPosts","newPostText","posts","reduxForm","form","handleSubmit","Field","placeholder","component","Textarea","validate","required","MyPostsContainer","profilePage","addPostAC","Profile","ProfileContainer","match","params","authorizedUserId","history","getUserProfile","refreshProfile","prevProps","prevState","snapshot","isAuth","auth","Header","h","header","loginBlock","login","logout","setAuthUserDataAC","getAuthUserDataTC","HeaderContainer","LoginReduxForm","error","Input","formSummaryError","messages","length","stopSubmit","_error","initialized","reducers","combineReducers","postId","messagesPage","sidebar","formReducer","app","store","createStore","applyMiddleware","thunkMiddleware","window","MessagesContainer","lazy","default","App","initializeApp","fallback","path","render","AppContainer","promise","Promise","all","MainApp","ReactDOM","document","getElementById","undefined","maxLength","FormControl","input","meta","FormType","hasError","touched","FinalClass","formControl","mapStateToPropsForRedirect","WrapperComponent","restProps"],"mappings":"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","file":"static/js/main.98957cbf.chunk.js","sourcesContent":["import {ActionsType, MessagesPageType, NewMessageType} from \"./types\";\r\nimport {v1} from \"uuid\";\r\n\r\nlet initialState = {\r\n    messagesData: [\r\n        {name: 'Igor', id: v1()},\r\n        {name: 'Anna', id: v1()},\r\n        {name: 'Maxim', id: v1()},\r\n        {name: 'Vlad', id: v1()}\r\n    ],\r\n    dialogsData: [\r\n        {text: 'Hello my friend!', id: v1()},\r\n        {text: 'How are you?', id: v1()},\r\n        {text: 'Yo!', id: v1()},\r\n        {text: 'Hello brother', id: v1()}\r\n    ]\r\n}\r\n\r\nexport const messagesReducer = (state: MessagesPageType = initialState, action: ActionsType): MessagesPageType => {\r\n    switch (action.type) {\r\n        case \"NEW-MESSAGE\":\r\n            return {\r\n                ...state,\r\n                dialogsData: [...state.dialogsData,\r\n                    {text: action.newMessageText, id: v1()}\r\n                ]\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const newMessageAC = (newMessageText: string): NewMessageType => {\r\n    return {\r\n        type: 'NEW-MESSAGE',\r\n        newMessageText\r\n    }\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"news\":\"News_news__29Utt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"music\":\"Music_music__9_bJZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"settings\":\"Settings_settings__3LOtF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__1ERtR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Profile_content__3Vx8S\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Posts_item__3MgEt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__2Ks-X\",\"item\":\"Navbar_item__1SS31\",\"activeLink\":\"Navbar_activeLink__1dFHF\"};","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport n from './Navbar.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nexport const Navbar = () => {\r\n    return (\r\n        <nav className={n.nav}>\r\n            <div className={n.item}><NavLink to=\"/Profile\" activeClassName={n.activeLink}>Profile</NavLink></div>\r\n            <div className={n.item}><NavLink to=\"/Message\" activeClassName={n.activeLink}>Message</NavLink></div>\r\n            <div className={n.item}><NavLink to=\"/Users\" activeClassName={n.activeLink}>Users</NavLink></div>\r\n            <div className={n.item}><NavLink to=\"/News\" activeClassName={n.activeLink}>News</NavLink></div>\r\n            <div className={n.item}><NavLink to=\"/Music\" activeClassName={n.activeLink}>Music</NavLink></div>\r\n            <div className={n.item}><NavLink to=\"/Settings\" activeClassName={n.activeLink}>Settings</NavLink></div>\r\n        </nav>\r\n    )\r\n}\r\n\r\n","import React from 'react';\r\nimport styles from './News.module.css'\r\n\r\nexport const News = () => {\r\n    return (\r\n        <div className={styles.news}>\r\n            News\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\nimport m from './Music.module.css'\r\n\r\nexport const Music = () => {\r\n    return (\r\n        <div className={m.music}>\r\n            Music\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\nimport styles from './Settings.module.css'\r\n\r\nexport const Settings = () => {\r\n    return (\r\n        <div className={styles.settings}>\r\n            Settings\r\n        </div>\r\n    )\r\n}","import axios from \"axios\";\r\n\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: `https://social-network.samuraijs.com/api/1.0/`,\r\n    headers: {\r\n        \"API-KEY\": '1d2ceb02-5049-4377-a187-7bdb89f8ce75'\r\n    }\r\n})\r\n\r\nexport const usersAPI = {\r\n    getUsers: (currentPage: number, pageSize: number) => {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => response.data)\r\n    },\r\n    unfollowUsers: (id: number) => {\r\n        return instance.delete(`follow/${id}`)\r\n            .then(response => response.data)\r\n    },\r\n    followUsers: (id: number) => {\r\n        return instance.post(`follow/${id}`)\r\n            .then(response => response.data)\r\n    },\r\n    getProfile: (userId: number) => {\r\n        console.warn('Obsolete method. Please profileAPI object')\r\n        return profileAPI.getProfile(userId)\r\n    }\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile: (userId: number) => {\r\n        return instance.get(`profile/` + userId)\r\n    },\r\n    getStatus: (userId: number) => {\r\n        return instance.get(`profile/status/` + userId)\r\n    },\r\n    updateStatus: (status: string) => {\r\n        return instance.put(`profile/status`, {status})\r\n    },\r\n    savePhoto: (photoFile: string | Blob) => {\r\n        const formData = new FormData()\r\n        formData.append('image', photoFile)\r\n        return instance.put(`/profile/photo`, formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        })\r\n    }\r\n\r\n}\r\n\r\nexport const authAPI = {\r\n    me: () => {\r\n        return instance.get(`auth/me`)\r\n    },\r\n    login: (email: string, password: string, rememberMe: boolean = false) => {\r\n        return instance.post(`auth/login`, {email, password, rememberMe})\r\n    },\r\n    logout: () => {\r\n        return instance.delete(`auth/login`)\r\n    },\r\n}\r\n\r\nexport const headerAPI = {}\r\n\r\n","import {usersAPI} from \"../api/api\";\r\n\r\ntype UsersPageType = {\r\n    users: Array<UserType>\r\n    pageSize: number\r\n    totalUsersCount: number\r\n    currentPage: number\r\n    isFetching: boolean\r\n    followingInProgress: number[]\r\n}\r\n\r\nlet initialState = {\r\n    users: [] as Array<UserType>,\r\n    pageSize: 20,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgress: []\r\n}\r\n\r\ntype ActionsType = ReturnType<typeof followSuccess>\r\n    | ReturnType<typeof unfollowSuccess>\r\n    | ReturnType<typeof setUsers>\r\n    | ReturnType<typeof setCurrentPage>\r\n    | ReturnType<typeof setTotalUsersCount>\r\n    | ReturnType<typeof toggleIsFetching>\r\n    | ReturnType<typeof toggleIsFollowingProgress>\r\n\r\ntype UserType = {\r\n    name: string\r\n    id: number\r\n    uniqueUrlName: null | string\r\n    photos: {\r\n        small: string\r\n        large: string\r\n    }\r\n    status: string | null\r\n    followed: boolean\r\n}\r\n\r\nexport const usersReducer = (state: UsersPageType = initialState, action: ActionsType): UsersPageType => {\r\n    switch (action.type) {\r\n        case \"FOLLOW\":\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.userId) {\r\n                        return {...u, followed: true}\r\n                    }\r\n                    return u\r\n                })\r\n            }\r\n        case \"UNFOLLOW\":\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.userId) {\r\n                        return {...u, followed: false}\r\n                    }\r\n                    return u\r\n                })\r\n            }\r\n        case \"SET-USERS\" :\r\n            return {\r\n                ...state, users: action.users\r\n            }\r\n        case \"SET-CURRENT-PAGE\" :\r\n            return {\r\n                ...state, currentPage: action.currentPage\r\n            }\r\n        case \"SET-USERS-TOTAL-COUNT\" :\r\n            return {\r\n                ...state, totalUsersCount: action.totalCount\r\n            }\r\n        case \"TOGGLE-IS-FETCHING\" :\r\n            return {\r\n                ...state, isFetching: action.isFetching\r\n            }\r\n        case \"TOGGLE-IS-FOLLOWING-PROGRESS\" :\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id !== action.userId)\r\n            }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n\r\nexport const followSuccess = (userId: number) => {\r\n    return {\r\n        type: \"FOLLOW\",\r\n        userId\r\n    } as const\r\n}\r\n\r\nexport const unfollowSuccess = (userId: number) => {\r\n    return {\r\n        type: \"UNFOLLOW\",\r\n        userId\r\n    } as const\r\n}\r\n\r\nexport const setUsers = (users: UserType[]) => {\r\n    return {\r\n        type: \"SET-USERS\",\r\n        users\r\n    } as const\r\n}\r\n\r\nexport const setCurrentPage = (currentPage: number) => {\r\n    return {\r\n        type: \"SET-CURRENT-PAGE\",\r\n        currentPage\r\n    } as const\r\n}\r\n\r\nexport const setTotalUsersCount = (totalCount: number) => {\r\n    return {\r\n        type: \"SET-USERS-TOTAL-COUNT\",\r\n        totalCount\r\n    } as const\r\n}\r\n\r\nexport const toggleIsFetching = (isFetching: boolean) => {\r\n    return {\r\n        type: \"TOGGLE-IS-FETCHING\",\r\n        isFetching\r\n    } as const\r\n}\r\n\r\nexport const toggleIsFollowingProgress = (isFetching: boolean, userId: number) => {\r\n    return {\r\n        type: \"TOGGLE-IS-FOLLOWING-PROGRESS\",\r\n        isFetching,\r\n        userId\r\n    } as const\r\n}\r\n\r\n\r\nexport const requestUsers = (currentPage: number, pageSize: number) => {\r\n    return async (dispatch: (action: ActionsType) => void) => {\r\n        dispatch(toggleIsFetching(true))\r\n        let data = await usersAPI.getUsers(currentPage, pageSize)\r\n        dispatch(toggleIsFetching(false))\r\n        dispatch(setUsers(data.items))\r\n        dispatch(setTotalUsersCount(data.totalCount))\r\n        dispatch(setCurrentPage(currentPage))\r\n    }\r\n}\r\n\r\nexport const follow = (userId: number) => {\r\n    return async (dispatch: (action: ActionsType) => void) => {\r\n        dispatch(toggleIsFollowingProgress(true, userId))\r\n        let data = await usersAPI.followUsers(userId)\r\n        if (data.resultCode === 0) {\r\n            dispatch(followSuccess(userId))\r\n        }\r\n        dispatch(toggleIsFollowingProgress(false, userId))\r\n    }\r\n}\r\n\r\nexport const unfollow = (userId: number) => {\r\n    return async (dispatch: (action: ActionsType) => void) => {\r\n        dispatch(toggleIsFollowingProgress(true, userId))\r\n        let data = await usersAPI.unfollowUsers(userId)\r\n        if (data.resultCode === 0) {\r\n            dispatch(unfollowSuccess(userId))\r\n        }\r\n        dispatch(toggleIsFollowingProgress(false, userId))\r\n    }\r\n}\r\n","export default __webpack_public_path__ + \"static/media/UserAvatar.b478c114.png\";","import React from 'react';\r\nimport styles from \"./UsersAPIComponent.module.css\";\r\nimport UserPhoto from \"../../assets/images/UserAvatar.png\";\r\nimport {UserType} from \"../../redux/types\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\ntype UserPropsType = {\r\n    user: UserType\r\n    unfollow: (id: number) => void\r\n    follow: (id: number) => void\r\n    followingInProgress: number[]\r\n}\r\n\r\nexport const User = ({user, followingInProgress, unfollow, follow}: UserPropsType) => {\r\n\r\n\r\n    return <div>\r\n                    <span>\r\n                        <div>\r\n                            <NavLink to={'/Profile/' + user.id}>\r\n                            <img src={user.photos.small != null ? user.photos.small : UserPhoto}\r\n                                 className={styles.userPhoto} alt={'#'}/>\r\n                            </NavLink>\r\n                        </div>\r\n                        <div className={styles.followUnfollow}>\r\n                            {user.followed\r\n                                ? <button disabled={followingInProgress.some(id => id === user.id)}\r\n                                          onClick={() => {\r\n                                              unfollow(user.id)\r\n                                          }}>UnFollow</button>\r\n                                : <button disabled={followingInProgress.some(id => id === user.id)}\r\n                                          onClick={() => {\r\n                                              follow(user.id)\r\n                                          }}>Follow</button>}\r\n                        </div>\r\n                    </span>\r\n        <span>\r\n                        <span>\r\n                            <div>{user.name}</div>\r\n                            <div>{user.status}</div>\r\n                        </span>\r\n                        <span>\r\n                            <div>{\"u.location.country\"}</div>\r\n                            <div>{\"u.location.city\"}</div>\r\n                        </span>\r\n                    </span>\r\n    </div>\r\n\r\n}","import React, {useEffect, useState} from 'react';\r\nimport styles from './Pagination.module.css'\r\n\r\ntype PageCountPropsType = {\r\n    totalItemsCount: number,\r\n    currentPage: number,\r\n    pageSize: number\r\n    onPageChanged: (p: number) => void\r\n    portionSize: number\r\n}\r\n\r\nexport default function Pagination({\r\n                                       totalItemsCount,\r\n                                       currentPage,\r\n                                       pageSize,\r\n                                       onPageChanged,\r\n                                       portionSize\r\n                                   }: PageCountPropsType) {\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize)\r\n\r\n    let pages = []\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i)\r\n    }\r\n    useEffect(() => setPortionNumber(Math.ceil(currentPage / portionSize)), [currentPage, portionSize]);\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionSize)\r\n    let [portionNumber, setPortionNumber] = useState<number>(1)\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1\r\n    let rightPortionPageNumber = portionNumber * portionSize\r\n\r\n    return <div className={styles.paginator}>\r\n        {portionNumber > 1 &&\r\n        <button onClick={() => {\r\n            setPortionNumber(portionNumber - 1)\r\n        }}>PREV</button>\r\n        }\r\n        {pages\r\n            .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n            .map((p) => {\r\n                return <span\r\n                    className={currentPage === p ? `${styles.selectedActivePage} ${styles.selectedPage}` : styles.selectedPage}\r\n                    key={p}\r\n                    onClick={(e) => {\r\n                        onPageChanged(p)\r\n                    }\r\n                    }>{p}</span>\r\n            })}\r\n        {portionCount > portionNumber &&\r\n        <button onClick={() => {\r\n            setPortionNumber(portionNumber + 1)\r\n        }}>NEXT</button>\r\n        }\r\n    </div>\r\n}\r\n","import React from 'react';\r\nimport {UserType} from \"../../redux/types\";\r\nimport {User} from \"./User\";\r\nimport Pagination from \"../Pagination/Pagination\";\r\n\r\ntype UsersPropsType = {\r\n    totalUsersCount: number\r\n    pageSize: number\r\n    currentPage: number\r\n    onPageChanged: (p: number) => void\r\n    users: Array<UserType>\r\n    unfollow: (id: number) => void\r\n    follow: (id: number) => void\r\n    followingInProgress: number[]\r\n}\r\n\r\nexport const Users = ({\r\n                          users,\r\n                          follow,\r\n                          unfollow,\r\n                          followingInProgress,\r\n                          totalUsersCount,\r\n                          pageSize,\r\n                          currentPage,\r\n                          onPageChanged\r\n                      }: UsersPropsType) => {\r\n    return <div>\r\n        <Pagination totalItemsCount={totalUsersCount} currentPage={currentPage} pageSize={pageSize}\r\n                    onPageChanged={onPageChanged} portionSize={10}/>\r\n        {\r\n            users.map(u => <User user={u}\r\n                                 follow={follow}\r\n                                 unfollow={unfollow}\r\n                                 followingInProgress={followingInProgress}\r\n                                 key={u.id}\r\n            />)\r\n        }\r\n    </div>\r\n}\r\n","export default __webpack_public_path__ + \"static/media/preloader.d8baec16.gif\";","import preloader from \"../../../assets/images/preloader.gif\";\r\nimport React from \"react\";\r\nimport styles from './Preloader.module.css'\r\n\r\nexport const Preloader = ()=>{\r\n    return <div className={styles.preloader}>\r\n        <img alt='' src={preloader}/>\r\n    </div>\r\n}","import {RootType} from \"./redux-store\";\r\nimport {createSelector} from 'reselect'\r\n\r\n\r\nconst getUsers = (state: RootType) => {\r\n    return state.usersPage.users\r\n}\r\n\r\nexport const getUsersSuper = createSelector(getUsers, users => {\r\n    return users.filter(u => true)\r\n})\r\n\r\nexport const getPageSize = (state: RootType) => {\r\n    return state.usersPage.pageSize\r\n}\r\n\r\nexport const getTotalUsersCount = (state: RootType) => {\r\n    return state.usersPage.totalUsersCount\r\n}\r\n\r\nexport const getCurrentPage = (state: RootType) => {\r\n    return state.usersPage.currentPage\r\n}\r\n\r\nexport const getIsFetching = (state: RootType) => {\r\n    return state.usersPage.isFetching\r\n}\r\n\r\nexport const getFollowingInProgress = (state: RootType) => {\r\n    return state.usersPage.followingInProgress\r\n}","import {connect} from \"react-redux\";\r\nimport {UserType} from \"../../redux/types\";\r\nimport {RootType} from \"../../redux/redux-store\";\r\nimport {follow, requestUsers, setCurrentPage, toggleIsFollowingProgress, unfollow} from \"../../redux/usersReducer\";\r\nimport React, {ComponentClass} from \"react\";\r\nimport {Users} from \"./Users\";\r\nimport {Preloader} from \"../common/Preloader/Preloader\";\r\nimport {compose} from \"redux\";\r\nimport {withRouter} from \"react-router\";\r\nimport {withAuthRedirect} from \"../../hoc/WithAuthRedirect\";\r\nimport {\r\n    getCurrentPage,\r\n    getFollowingInProgress,\r\n    getIsFetching,\r\n    getPageSize,\r\n    getTotalUsersCount,\r\n    getUsersSuper\r\n} from \"../../redux/userSelectors\";\r\n\r\nexport type mstpType = {\r\n    users: Array<UserType>\r\n    pageSize: number\r\n    totalUsersCount: number\r\n    currentPage: number\r\n    isFetching: boolean\r\n\r\n    followingInProgress: Array<number>\r\n}\r\n\r\nexport type mdtpType = {\r\n    follow: (userId: number) => void\r\n    unfollow: (userId: number) => void\r\n    setCurrentPage: (pageNumber: number) => void\r\n    toggleIsFollowingProgress: (followingInProgress: boolean, id: number) => void\r\n    getUsers: (currentPage: number, pageSize: number) => void\r\n}\r\n\r\ntype UsersPropsType = mstpType & mdtpType\r\n\r\ntype UsersResponseType = {\r\n    items: Array<UserType>\r\n    totalCount: number\r\n    error: string\r\n}\r\n\r\nexport class UsersContainer extends React.Component<UsersPropsType, UsersResponseType> {\r\n\r\n    componentDidMount() {\r\n        const {currentPage, pageSize} = this.props\r\n        this.props.getUsers(currentPage, pageSize)\r\n    }\r\n\r\n    onPageChanged = (pageNumber: number) => {\r\n        const {pageSize} = this.props\r\n        this.props.getUsers(pageNumber, pageSize)\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n            {this.props.isFetching ? <Preloader/> : null}\r\n            <Users totalUsersCount={this.props.totalUsersCount}\r\n                   pageSize={this.props.pageSize}\r\n                   currentPage={this.props.currentPage}\r\n                   onPageChanged={this.onPageChanged}\r\n                   users={this.props.users}\r\n                   unfollow={this.props.unfollow}\r\n                   follow={this.props.follow}\r\n                   followingInProgress={this.props.followingInProgress}\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state: RootType): mstpType => {\r\n\r\n    return {\r\n        users: getUsersSuper(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n    }\r\n}\r\n\r\nexport default compose<ComponentClass>(\r\n    connect(mapStateToProps, {\r\n            follow,\r\n            unfollow,\r\n            setCurrentPage,\r\n            toggleIsFollowingProgress,\r\n            getUsers:requestUsers\r\n        }\r\n    ),\r\n    withRouter,\r\n    withAuthRedirect\r\n)(UsersContainer)\r\n\r\n\r\n","import React, {useEffect, useState} from 'react';\r\n\r\ntype ProfileStatusPropsType = {\r\n    status: string\r\n    updateStatus: (status: string) => void\r\n}\r\n\r\n\r\nexport const ProfileStatusWithHooks = (props: ProfileStatusPropsType) => {\r\n    let [editMode, setEditMode] = useState(false)\r\n    let [status, setStatus] = useState(props.status)\r\n    useEffect(()=>{\r\n        setStatus(props.status)\r\n    },[props.status])\r\n    const activateEditMode = () => {\r\n        setEditMode(true)\r\n    }\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false)\r\n        props.updateStatus(status)\r\n    }\r\n    const onStatusChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        setStatus(e.currentTarget.value)\r\n    }\r\n    return (\r\n        <>\r\n            {!editMode &&\r\n            <div>\r\n                <span onDoubleClick={activateEditMode}\r\n                >{props.status || '----'}</span>\r\n            </div>}\r\n            {editMode &&\r\n            <div>\r\n                <input autoFocus={true}\r\n                       onBlur={deactivateEditMode}\r\n                       onChange={onStatusChange}\r\n                       value={status}\r\n                />\r\n            </div>}\r\n        </>\r\n    )\r\n}\r\n","import {profileAPI, usersAPI} from \"../api/api\";\r\nimport {ProfileType} from \"./types\";\r\n\r\ntype ActionsType =\r\n    ReturnType<typeof addPostAC>\r\n    | ReturnType<typeof setStatusAC>\r\n    | ReturnType<typeof setUserProfileAC>\r\n    | ReturnType<typeof deletePostAC>\r\n    | ReturnType<typeof savePhotoSuccess>\r\n\r\n\r\nexport type ProfilePageType = {\r\n    postsData: Array<PostsType>\r\n    profile: any\r\n    status: string\r\n}\r\n\r\nexport type PostsType = {\r\n    message: string\r\n    id: number\r\n    counts: number\r\n}\r\n\r\n\r\nlet initialState = {\r\n    postsData: [\r\n        {message: 'Hi, how are you?', id: 1, counts: 15},\r\n        {message: \"It's my first post\", id: 2, counts: 45},\r\n        {message: 'Yo, Yo!', id: 3, counts: 15},\r\n        {message: \"Hello!\", id: 4, counts: 45}\r\n    ],\r\n    profile: null,\r\n    status: ''\r\n}\r\n\r\nexport const profileReducer = (state: ProfilePageType = initialState, action: ActionsType): ProfilePageType => {\r\n\r\n    switch (action.type) {\r\n        case \"ADD_POST\":\r\n            return {\r\n                ...state,\r\n                postsData: [...state.postsData,\r\n                    {id: 5, message: action.newPostText, counts: 0},\r\n                ],\r\n            }\r\n        case \"SET_USER_PROFILE\":\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            }\r\n        case \"SET_STATUS\":\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        case \"DELETE_POST\":\r\n            return {\r\n                ...state,\r\n                postsData: state.postsData.filter(p => p.id !== action.postId)\r\n            }\r\n        case \"SAVE_PHOTO_SUCCESS\":\r\n            debugger\r\n            return {\r\n                ...state,\r\n                profile: {...state.profile, photos: action.photos}\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n\r\nexport const addPostAC = (newPostText: string) => {\r\n    return {\r\n        type: \"ADD_POST\",\r\n        newPostText\r\n    } as const\r\n}\r\n\r\nexport const setStatusAC = (status: string) => {\r\n    return {\r\n        type: \"SET_STATUS\",\r\n        status\r\n    } as const\r\n}\r\n\r\nexport const setUserProfileAC = (profile: ProfileType | null) => {\r\n    return {\r\n        type: \"SET_USER_PROFILE\",\r\n        profile\r\n    } as const\r\n}\r\n\r\nexport const deletePostAC = (postId: number) => {\r\n    return {\r\n        type: \"DELETE_POST\",\r\n        postId\r\n    } as const\r\n}\r\n\r\nexport const savePhotoSuccess = (photos: string | Blob) => {\r\n    return {\r\n        type: \"SAVE_PHOTO_SUCCESS\",\r\n        photos\r\n    } as const\r\n}\r\n\r\n\r\nexport const getUserProfileTC = (userId: number) => async (dispatch: (action: ActionsType) => void) => {\r\n    let response = await usersAPI.getProfile(userId)\r\n    dispatch(setUserProfileAC(response.data))\r\n}\r\n\r\nexport const getStatusTC = (userId: number) => async (dispatch: (action: ActionsType) => void) => {\r\n    let response = await profileAPI.getStatus(userId)\r\n    dispatch(setStatusAC(response.data))\r\n}\r\n\r\nexport const updateStatusTC = (status: string) => async (dispatch: (action: ActionsType) => void) => {\r\n    let response = await profileAPI.updateStatus(status)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setStatusAC(status))\r\n    }\r\n}\r\n\r\nexport const savePhotoTC = (file: any) => async (dispatch: (action: ActionsType) => void) => {\r\n    let response = await profileAPI.savePhoto(file)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(savePhotoSuccess(response.data.data.photos))\r\n    }\r\n}","import React, {ChangeEvent} from 'react';\r\nimport p from './ProfileInfo.module.css'\r\nimport {Preloader} from \"../../common/Preloader/Preloader\";\r\nimport {ProfileType} from \"../../../redux/types\";\r\nimport {ProfileStatusWithHooks} from \"./ProfileStatusWithHooks\";\r\nimport UserPhoto from \"../../../assets/images/UserAvatar.png\";\r\nimport {savePhotoTC} from \"../../../redux/profileReducer\";\r\nimport {useDispatch} from \"react-redux\";\r\n\r\ntype ProfileInfoPropsType = {\r\n    profile: ProfileType | null\r\n    status: string\r\n    updateStatus: (status: string) => void\r\n    isOwner: boolean\r\n}\r\n\r\nexport const ProfileInfo = ({profile, status, updateStatus, isOwner}: ProfileInfoPropsType) => {\r\n    const dispatch = useDispatch()\r\n\r\n    if (!profile) {\r\n        return <Preloader/>\r\n    }\r\n\r\n    const JobsHandler = () => {\r\n        if (profile) {\r\n\r\n            return profile.lookingForAJob\r\n                ? <img alt='' src='https://www.svgrepo.com/show/42745/looking-for-job.svg' width='150px'/>\r\n                : <img alt='' src='https://freesvg.org/img/nmj.png' width='150px'/>\r\n        }\r\n    }\r\n\r\n    const onMainPhotoSelected = (event: ChangeEvent<HTMLInputElement>) => {\r\n        const files = event.target.files\r\n        if (files) {\r\n            dispatch(savePhotoTC(files[0]))\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={p.content}>\r\n            <img alt='' src={profile.photos.large || UserPhoto}/>\r\n            {!isOwner && <input type='file' onChange={onMainPhotoSelected}/>}\r\n            <div className={p.fullName}>{profile.fullName}</div>\r\n            <span>{profile.lookingForAJobDescription}</span>\r\n            <div>{JobsHandler()}</div>\r\n            <ProfileStatusWithHooks status={status}\r\n                                    updateStatus={updateStatus}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport m from './Posts.module.css'\r\n\r\ntype MessagePropsType = {\r\n    message: string\r\n    counts: number\r\n}\r\n\r\nexport const Post:React.FC<MessagePropsType> = (props) => {\r\n    return (\r\n        <div>\r\n                <div className={m.item}>\r\n                    <img alt=''\r\n                        src='data:image/png;base64,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'/>\r\n                    {props.message}\r\n                    <div>\r\n                        <span>likes:{props.counts}</span>\r\n                    </div>\r\n                </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n","import React, {FormEventHandler} from 'react';\r\nimport m from './MyPosts.module.css'\r\nimport {Post} from './Post/Post';\r\nimport {PostsType} from \"../../../redux/profileReducer\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {maxLengthCreator, required} from \"../../../utils/validators/validators\";\r\nimport {Textarea} from \"../../common/FormsControls/FormControls\";\r\n\r\ntype MyPostsType = {\r\n    postsData: Array<PostsType>\r\n    addPosts: (newPostText: string) => void\r\n}\r\n\r\nconst maxLength10 = maxLengthCreator(10)\r\n\r\nexport const MyPosts = React.memo((props: MyPostsType) => {\r\n\r\n    let PostsDataElement = props.postsData.map((p: PostsType) => <Post key={p.id} message={p.message}\r\n                                                                       counts={p.counts}/>)\r\n\r\n    let onAddPost = (values: any) => {\r\n        props.addPosts(values.newPostText);\r\n    }\r\n    return (\r\n        <div>\r\n            <h3>My posts</h3>\r\n            <AddNewPostFormRedux onSubmit={onAddPost}\r\n            />\r\n            <div className={m.posts}>\r\n                {PostsDataElement}\r\n            </div>\r\n        </div>\r\n    )\r\n})\r\n\r\ntype AddNewPostTextPropsType = {\r\n    handleSubmit: FormEventHandler<HTMLFormElement> | undefined\r\n}\r\n\r\nlet AddNewPostForm = (props: AddNewPostTextPropsType) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field name='newPostText'\r\n                       placeholder='Post message'\r\n                       component={Textarea}\r\n                       validate={[required, maxLength10]}\r\n                />\r\n            </div>\r\n            <div>\r\n                <button>Add posts</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nlet AddNewPostFormRedux = reduxForm({form: 'ProfileAddNewPostForm'})(AddNewPostForm)\r\n\r\n","import {addPostAC, PostsType} from \"../../../redux/profileReducer\";\r\nimport {MyPosts} from \"./MyPosts\";\r\nimport {connect} from \"react-redux\";\r\nimport {RootType} from \"../../../redux/redux-store\";\r\n\r\n\r\ntype mstpType = {\r\n    postsData: Array<PostsType>;\r\n}\r\n\r\ntype mdtpType = {\r\n    addPosts: (newPostText: string) => void\r\n}\r\n\r\ntype ActionsType = ReturnType<typeof addPostAC>\r\n\r\nlet mapStateToProps = (state: RootType): mstpType => {\r\n    return {\r\n        postsData: state.profilePage.postsData,\r\n    }\r\n}\r\n\r\n\r\nlet mapDispatchToProps = (dispatch: (action: ActionsType) => void): mdtpType => {\r\n    return {\r\n        addPosts: (newPostText) => {\r\n            dispatch(addPostAC(newPostText))\r\n        }\r\n    }\r\n}\r\n\r\nexport const MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts)\r\n\r\n","import React from 'react';\r\nimport p from './Profile.module.css'\r\nimport {ProfileInfo} from \"./ProfileInfo/ProfileInfo\";\r\nimport {MyPostsContainer} from \"./MyPosts/MyPostsContainer\";\r\nimport {ProfileType} from \"../../redux/types\";\r\n\r\ntype ProfilePropsType = {\r\n    profile: ProfileType | null\r\n    status: string\r\n    updateStatus: (status: string) => void\r\n    isOwner: boolean\r\n}\r\n\r\nexport const Profile = (props: ProfilePropsType) => {\r\n    return (\r\n        <div className={p.content}>\r\n            <ProfileInfo profile={props.profile}\r\n                         isOwner={props.isOwner}\r\n                         status={props.status}\r\n                         updateStatus={props.updateStatus}\r\n            />\r\n            <MyPostsContainer\r\n\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\n","import React, {ComponentClass} from 'react';\r\nimport {Profile} from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {getStatusTC, getUserProfileTC, savePhotoTC, setStatusAC, updateStatusTC} from \"../../redux/profileReducer\";\r\nimport {RootType} from \"../../redux/redux-store\";\r\nimport {RouteComponentProps, withRouter} from \"react-router\";\r\nimport {ProfileType} from \"../../redux/types\";\r\nimport {withAuthRedirect} from \"../../hoc/WithAuthRedirect\";\r\nimport {compose} from 'redux'\r\n\r\n\r\ntype mdtpType = {\r\n    getUserProfile: (userId: number) => void\r\n    getStatus: (userId: number) => void\r\n    updateStatus: (status: string) => void\r\n    setStatusAC: (status: string) => void\r\n    savePhoto:(file:string | Blob) => void\r\n}\r\n\r\ntype mstpType = {\r\n    profile: ProfileType | null\r\n    isAuth: boolean\r\n    status: string\r\n    authorizedUserId: number | null\r\n}\r\n\r\ntype PathParams = {\r\n    userId: any\r\n}\r\ntype OwnPropsType = mstpType & mdtpType\r\n\r\ntype ProfileContainerPropsType = RouteComponentProps<PathParams> & OwnPropsType\r\n\r\nclass ProfileContainer extends React.Component<ProfileContainerPropsType> {\r\n\r\n    refreshProfile() {\r\n        let userId = this.props.match.params.userId\r\n        if (!userId) {\r\n            userId = this.props.authorizedUserId\r\n            if (!userId) {\r\n                this.props.history.push('/login')\r\n            }\r\n        }\r\n        this.props.getUserProfile(userId)\r\n        this.props.getStatus(userId)\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.refreshProfile()\r\n    }\r\n\r\n    componentDidUpdate(prevProps: Readonly<ProfileContainerPropsType>, prevState: Readonly<{}>, snapshot?: any) {\r\n        if (this.props.match.params.userId !== prevProps.match.params.userId) {\r\n            this.refreshProfile()\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Profile {...this.props}\r\n                     isOwner={!!this.props.match.params.userId}\r\n                     profile={this.props.profile}\r\n                     status={this.props.status}\r\n                     updateStatus={this.props.updateStatus}\r\n            />\r\n        )\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state: RootType): mstpType => ({\r\n    profile: state.profilePage.profile,\r\n    isAuth: state.auth.isAuth,\r\n    status: state.profilePage.status,\r\n    authorizedUserId: state.auth.id\r\n})\r\n\r\nexport default compose<ComponentClass>(\r\n    connect<mstpType, mdtpType, {}, RootType>(mapStateToProps, {\r\n        getUserProfile: getUserProfileTC,\r\n        getStatus: getStatusTC,\r\n        updateStatus: updateStatusTC,\r\n        setStatusAC,\r\n        savePhoto : savePhotoTC\r\n    }),\r\n    withRouter,\r\n    withAuthRedirect\r\n)(ProfileContainer)\r\n\r\n\r\n","import React from 'react';\r\nimport h from \"./Header.module.css\"\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\ntype HeaderPropsType = {\r\n    isAuth: boolean\r\n    login: string | null\r\n    logout: () => void\r\n}\r\n\r\nexport const Header = (props: HeaderPropsType) => {\r\n    return (\r\n        <header className={h.header}>\r\n            <img\r\n                src=\"https://www.freepnglogos.com/uploads/logo-website-png/logo-website-website-icon-with-png-and-vector-format-for-unlimited-22.png\"\r\n                width=\"200\" alt=\"logo website, website icon with png and vector format for unlimited\"/>\r\n            <div className={h.loginBlock}>\r\n                {props.isAuth\r\n                    ? <div>{props.login} - <button onClick={props.logout}>Log out</button></div>\r\n                    : <NavLink to={'/login'}>Login</NavLink>}\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n\r\n","import {authAPI} from \"../api/api\";\r\nimport {Dispatch} from \"redux\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nexport type AuthType = {\r\n    id: number | null\r\n    email: string | null\r\n    login: string | null\r\n    isAuth: boolean\r\n}\r\n\r\nlet initialState = {\r\n    id: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false\r\n    // isFetching: false,\r\n}\r\n\r\ntype ActionsType =\r\n    ReturnType<typeof setAuthUserDataAC>\r\n\r\nexport const authReducer = (state: AuthType = initialState, action: ActionsType): AuthType => {\r\n\r\n    switch (action.type) {\r\n        case \"SET-USER-DATA\":\r\n            return {\r\n                ...state,\r\n                ...action.data,\r\n            }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const setAuthUserDataAC = (id: number | null, email: string | null, login: string | null, isAuth: boolean) => {\r\n    return {\r\n        type: \"SET-USER-DATA\",\r\n        data: {id, email, login, isAuth}\r\n    } as const\r\n}\r\n\r\nexport const getAuthUserDataTC = () => async (dispatch: Dispatch<any>) => {\r\n    let response = await authAPI.me();\r\n    if (response.data.resultCode === 0) {\r\n        let {id, email, login} = response.data.data\r\n        dispatch(setAuthUserDataAC(id, email, login, true));\r\n    }\r\n}\r\n\r\nexport const loginTC = (email: string, password: string, rememberMe: boolean) => async (dispatch: Dispatch<any>) => {\r\n    let response = await authAPI.login(email, password, rememberMe);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getAuthUserDataTC())\r\n    } else {\r\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : 'Some error'\r\n        dispatch(stopSubmit('login', {_error: message}))\r\n    }\r\n}\r\n\r\nexport const logoutTC = () => async (dispatch: Dispatch) => {\r\n    let response = await authAPI.logout()\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setAuthUserDataAC(null, null, null, false));\r\n    }\r\n}\r\n\r\n\r\n","import React from 'react';\r\nimport {Header} from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logoutTC} from \"../../redux/authReducer\";\r\nimport {RootType} from \"../../redux/redux-store\";\r\n\r\n// type HeaderResponseType = {\r\n//     resultCode: number\r\n//     data: {\r\n//         id: number\r\n//         email: string,\r\n//         login: string,\r\n//     }\r\n//     setAuthUserData: (id: number, email: string, login: string) => void\r\n// }\r\n\r\n\r\nclass HeaderContainer extends React.Component <MapDispatchPropsType & MapStatePropsType, any> {\r\n    // componentDidMount() {\r\n    //     this.props.getAuthUserData()\r\n    // }\r\n\r\n    render() {\r\n        return <Header {...this.props} />\r\n    }\r\n}\r\n\r\ntype MapStatePropsType = {\r\n    isAuth: boolean\r\n    login: string | null\r\n}\r\n\r\ntype MapDispatchPropsType = {\r\n    logout: () => void\r\n}\r\n\r\nconst mapStateToProps = (state: RootType) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login\r\n\r\n})\r\nexport default connect<MapStatePropsType, MapDispatchPropsType, {}, RootType>(mapStateToProps, {logout: logoutTC})(HeaderContainer)\r\n","import {Field, reduxForm} from \"redux-form\";\r\nimport {required} from \"../../utils/validators/validators\";\r\nimport {Input} from \"../common/FormsControls/FormControls\";\r\nimport React, {FormEventHandler} from \"react\";\r\nimport styles from './../common/FormsControls/FormControls.module.css'\r\n\r\ntype LoginFormPropsType = {\r\n    handleSubmit: FormEventHandler<HTMLFormElement> | undefined\r\n    error: string\r\n}\r\nexport const LoginForm = ({handleSubmit, error}: LoginFormPropsType) => {\r\n    return <form onSubmit={handleSubmit}>\r\n        <div>\r\n            <Field placeholder={'Email'}\r\n                   name={'email'}\r\n                   validate={[required]}\r\n                   component={Input}\r\n            />\r\n\r\n        </div>\r\n        <div>\r\n            <Field placeholder={'Password'}\r\n                   name={'password'}\r\n                   type='password'\r\n                   validate={[required]}\r\n                   component={Input}\r\n            />\r\n\r\n        </div>\r\n        <div>\r\n            <Field component={Input}\r\n                   name={'rememberMe'}\r\n                   type={'checkbox'}/> remember me\r\n        </div>\r\n        {error && <div className={styles.formSummaryError}>\r\n            {error}\r\n        </div>\r\n        }\r\n        <div>\r\n            <button>Login</button>\r\n        </div>\r\n    </form>\r\n}\r\n\r\nexport const LoginReduxForm = reduxForm({\r\n    form: 'login'\r\n})(LoginForm)","import React from 'react';\r\nimport {LoginReduxForm} from \"./LoginForm\";\r\nimport {connect} from \"react-redux\";\r\nimport {loginTC} from \"../../redux/authReducer\";\r\nimport {Redirect} from \"react-router\";\r\nimport {RootType} from \"../../redux/redux-store\";\r\n\r\ntype LoginPropsType = {\r\n    login: any\r\n    isAuth: boolean\r\n}\r\n\r\nconst Login = (props: LoginPropsType) => {\r\n    const onSubmit = (formData: any) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe)\r\n    }\r\n\r\n    if (props.isAuth) {\r\n        return <Redirect to={'/profile'}/>\r\n    }\r\n    return <div>\r\n        <h1>LOGIN</h1>\r\n        <LoginReduxForm onSubmit={onSubmit}/>\r\n    </div>\r\n}\r\nconst mapStateToProps = (state: RootType) => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\nexport default connect(mapStateToProps, {login: loginTC})(Login)\r\n\r\n","import {ActionsType, SidebarType} from \"./types\";\r\n\r\nlet initialState = {}\r\n\r\nexport const sidebarReducer = (state: SidebarType = initialState, action: ActionsType): SidebarType => {\r\n\r\n\r\n    return state\r\n}","import {Dispatch} from \"redux\";\r\nimport {getAuthUserDataTC} from \"./authReducer\";\r\n\r\ntype ActionsType =\r\n    ReturnType<typeof initializedSuccess>\r\n\r\ntype AppType = {\r\n    initialized: boolean\r\n}\r\n\r\nlet initialState = {\r\n    initialized: false\r\n}\r\n\r\nexport const appReducer = (state: AppType = initialState, action: ActionsType): AppType => {\r\n\r\n    switch (action.type) {\r\n        case 'INITIALIZED_SUCCESS':\r\n            return {\r\n                ...state, initialized: true\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const initializedSuccess = () => {\r\n    return {\r\n        type: \"INITIALIZED_SUCCESS\",\r\n    } as const\r\n}\r\n\r\nexport const initializeApp = () => (dispatch: Dispatch<any>) => {\r\n    let promise = dispatch(getAuthUserDataTC())\r\n    Promise.all([promise]).then(()=>{\r\n        dispatch(initializedSuccess())\r\n    })\r\n}\r\n\r\n","import {combineReducers, createStore, Store, applyMiddleware} from \"redux\";\r\nimport {profileReducer} from \"./profileReducer\";\r\nimport {messagesReducer} from \"./messagesReducer\";\r\nimport {sidebarReducer} from \"./sidebarReducer\";\r\nimport {usersReducer} from \"./usersReducer\";\r\nimport {authReducer} from \"./authReducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport {reducer as formReducer} from 'redux-form'\r\nimport {appReducer} from \"./appReducer\";\r\n\r\nexport let reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    messagesPage: messagesReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n})\r\n\r\nexport let store: Store<RootType> = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\nexport type RootType = ReturnType<typeof reducers>\r\n\r\n//@ts-ignore\r\nwindow.store = store","import React, {Suspense} from 'react';\nimport './App.css';\nimport {Navbar} from \"./components/Navbar/Navbar\";\nimport {HashRouter, Route} from \"react-router-dom\";\nimport {News} from \"./components/News/News\";\nimport {Music} from \"./components/Music/Music\";\nimport {Settings} from \"./components/Settings/Settings\";\nimport UsersContainer from \"./components/Users/UsersContainer\";\nimport ProfileContainer from \"./components/Profile/ProfileContainer\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport Login from \"./components/Login/Login\";\nimport {connect, Provider} from \"react-redux\";\nimport {RootType, store} from \"./redux/redux-store\";\nimport {compose} from \"redux\";\nimport {initializeApp} from \"./redux/appReducer\";\nimport {Preloader} from \"./components/common/Preloader/Preloader\";\n\n\nconst MessagesContainer = React.lazy(() =>\n    import('./components/Messages/MessagesContainer')\n        .then(({MessagesContainer}) => ({default: MessagesContainer})));\n\ntype AppPropsType = {\n    initializeApp: () => void\n    initialized: boolean\n}\n\nclass App extends React.Component<AppPropsType> {\n    componentDidMount() {\n        this.props.initializeApp()\n    }\n\n    render() {\n\n        if (!this.props.initialized) {\n            return <Preloader/>\n        }\n        return (\n\n            <div className=\"app-wrapper\">\n\n                <HeaderContainer/>\n                <Navbar/>\n                <div className=\"app-wrapper-content\">\n                    <Suspense fallback={<Preloader/>}>\n                        <Route path={\"/Message\"} render={() => <MessagesContainer/>}/>\n                        <Route path={\"/Profile/:userId?\"} render={() => <ProfileContainer/>}/>\n                        <Route path={\"/Users\"} render={() => <UsersContainer/>}/>\n                        <Route path={\"/News\"} render={() => <News/>}/>\n                        <Route path={\"/Music\"} render={() => <Music/>}/>\n                        <Route path={\"/Settings\"} render={() => <Settings/>}/>\n                        <Route path={\"/Login\"} render={() => <Login/>}/>\n                    </Suspense>\n                </div>\n\n            </div>\n        );\n    }\n}\n\ntype MapStatePropsType = {\n    initialized: boolean\n}\nconst MapStateToProps = (state: RootType): MapStatePropsType => ({initialized: state.app.initialized})\n\nconst AppContainer = compose(connect(MapStateToProps, {initializeApp})(App))\n\nexport const MainApp = () => {\n    return <HashRouter>\n        <Provider store={store}>\n            <AppContainer/>\n        </Provider>\n    </HashRouter>\n}\n// connect<MapStatePropsType, MapDispatchPropsType, {},g RootType>(MapStateToProps, {initializeApp})(App))\n// export default connect(MapStateToProps, {initializeApp})(App);\n","import React from 'react';\nimport './index.css';\nimport reportWebVitals from './reportWebVitals';\nimport ReactDOM from 'react-dom';\nimport {MainApp} from \"./App\";\n\n\nReactDOM.render(\n    <MainApp/>,\n    document.getElementById('root')\n);\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n\n\n\n\n\n\n\n\n","\r\nexport const required = (value: string) => {\r\n    return value ? undefined : 'Field is required'\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength: number) => (value: string) => {\r\n    return value.length > maxLength\r\n        ? `Max length is ${maxLength}  symbols` : undefined\r\n}","import React from \"react\";\r\nimport {WrappedFieldProps} from \"redux-form/lib/Field\";\r\nimport styles from './FormControls.module.css'\r\n\r\ntype PropsType = {\r\n    FormType: any\r\n}\r\n\r\nexport const FormControl: React.FC<WrappedFieldProps & PropsType> = ({input, meta, FormType, ...props}) => {\r\n    const hasError = meta.touched && meta.error\r\n    const FinalClass = `${styles.formControl} ${hasError ? styles.error : ''}`\r\n    return (\r\n        <div className={FinalClass}>\r\n            <div>\r\n                <FormType {...input} {...props}/>\r\n            </div>\r\n            {hasError && <span>{meta.error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea = (props: WrappedFieldProps) => {\r\n    return <FormControl {...props} FormType=\"textarea\"/>\r\n}\r\n\r\nexport const Input = (props: WrappedFieldProps) => {\r\n    return <FormControl {...props} FormType=\"input\"/>\r\n}\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControls_formControl__1BP2G\",\"error\":\"FormControls_error__2FBQS\",\"formSummaryError\":\"FormControls_formSummaryError__3wqjb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Pagination_paginator__3JFqU\",\"pageNumber\":\"Pagination_pageNumber__1-F2e\",\"selectedActivePage\":\"Pagination_selectedActivePage__HjD-k\",\"selectedPage\":\"Pagination_selectedPage__1DsZx\"};","import {Redirect} from \"react-router\";\r\nimport React from \"react\";\r\nimport {RootType} from \"../redux/redux-store\";\r\nimport {connect} from \"react-redux\";\r\n\r\ntype mapStateToPropsType = {\r\n    isAuth: boolean\r\n}\r\nconst mapStateToPropsForRedirect = (state: RootType): mapStateToPropsType => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport function withAuthRedirect <WPC>(WrapperComponent: React.ComponentType<WPC>) {\r\n    const RedirectComponent: React.FC<mapStateToPropsType> = ({isAuth, ...restProps}) => {\r\n        if (!isAuth) return <Redirect to='/Login'/>\r\n        return <WrapperComponent {...restProps as unknown as WPC}/>\r\n    }\r\n    return connect<mapStateToPropsType, {}, WPC, RootType>(mapStateToPropsForRedirect)(RedirectComponent)\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"UserPage\":\"UsersAPIComponent_UserPage__2yobE\",\"userPhoto\":\"UsersAPIComponent_userPhoto__3orlv\",\"selectedActivePage\":\"UsersAPIComponent_selectedActivePage__1Q0dF\",\"numberPage\":\"UsersAPIComponent_numberPage__3oyIL\",\"numberUserPage\":\"UsersAPIComponent_numberUserPage__2pyfT\",\"followUnfollow\":\"UsersAPIComponent_followUnfollow__32FKO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"fullName\":\"ProfileInfo_fullName__3AmHi\",\"content\":\"ProfileInfo_content__1N1AP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3ht14\",\"loginBlock\":\"Header_loginBlock__E9r01\"};"],"sourceRoot":""}